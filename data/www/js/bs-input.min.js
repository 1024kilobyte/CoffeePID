!function(S){"use strict";var V=!1,e=S.fn.val;function W(t,n){t.addEventListener("mousedown",function(t){t.preventDefault(),n(t)}),t.addEventListener("touchstart",function(t){t.cancelable&&t.preventDefault(),n(t)}),t.addEventListener("keydown",function(t){32!==t.keyCode&&13!==t.keyCode||V||(V=!0,n(t))})}S.fn.val=function(t){if(1<=arguments.length&&this[0]&&this[0]["bootstrap-input-spinner"]&&this[0].setValue){var n=this[0];setTimeout(function(){n.setValue(t)})}return e.apply(this,arguments)},S.fn.InputSpinner=S.fn.inputSpinner=function(t){var D={decrementButton:"<strong>-</strong>",incrementButton:"<strong>+</strong>",groupClass:"",buttonsClass:"btn-outline-secondary",buttonsWidth:"2.5rem",textAlign:"center",autoDelay:500,autoInterval:100,boostThreshold:10,boostMultiplier:"auto"};for(var n in t)D[n]=t[n];var L='<div class="input-group '+D.groupClass+'"><div class="input-group-prepend"><button style="min-width: '+D.buttonsWidth+'" class="btn btn-decrement '+D.buttonsClass+'" type="button">'+D.decrementButton+'</button></div><input type="text" inputmode="decimal" style="text-align: '+D.textAlign+'" class="form-control"/><div class="input-group-append"><button style="min-width: '+D.buttonsWidth+'" class="btn btn-increment '+D.buttonsClass+'" type="button">'+D.incrementButton+"</button></div></div>",B=navigator.language||"en-US";return this.each(function(){var u=S(this);u[0]["bootstrap-input-spinner"]=!0,u.hide();var n=null,e=null,o="auto"===D.boostMultiplier,a=o?1:D.boostMultiplier,p=S(L),s=p.find(".btn-decrement"),l=p.find(".btn-increment"),d=p.find("input"),c=null,f=null,m=null,v=null,g=null,b=null,h=null;k();var t,r,i=parseFloat(u[0].value),y=0,x=u.attr("data-prefix")||"",E=u.attr("data-suffix")||"";if(x){var w=S('<span class="input-group-text">'+x+"</span>");p.find(".input-group-prepend").append(w)}if(E){var M=S('<span class="input-group-text">'+E+"</span>");p.find(".input-group-append").prepend(M)}function C(t,n){void 0===n&&(n=!0),i=isNaN(t)||""===t?(u[0].value="",n&&(d[0].value=""),NaN):(t=parseFloat(t),t=Math.min(Math.max(t,c),f),t=Math.round(t*Math.pow(10,g))/Math.pow(10,g),u[0].value=t,n&&(d[0].value=h.format(t)),t)}function F(n,e){e&&setTimeout(function(){var t;"function"==typeof Event?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!0),n[0].dispatchEvent(t)})}function N(t){d[0].disabled||d[0].readOnly||(I(t),T(),n=setTimeout(function(){e=setInterval(function(){y>D.boostThreshold?o?(I(t*parseInt(a,10)),a<1e8&&(a*=1.1),v&&(a=Math.min(v,a))):I(t*a):I(t),y++},D.autoInterval)},D.autoDelay))}function I(t){isNaN(i)&&(i=0),C(Math.round(i/t)*t+t),F(u,"input"),F(u,"change")}function T(){y=0,a=o?1:D.boostMultiplier,clearTimeout(n),clearTimeout(e)}function k(){d.prop("required",u.prop("required")),d.prop("placeholder",u.prop("placeholder")),d.attr("inputmode",u.attr("inputmode")||"decimal");var t=u.prop("disabled"),n=u.prop("readonly");d.prop("disabled",t),d.prop("readonly",n),l.prop("disabled",t||n),s.prop("disabled",t||n),(t||n)&&T();var e=u.prop("class"),o="";/form-control-sm/g.test(e)?o="input-group-sm":/form-control-lg/g.test(e)&&(o="input-group-lg");var a=e.replace(/form-control(-(sm|lg))?/g,"");p.prop("class","input-group "+o+" "+D.groupClass),d.prop("class","form-control "+a),c=parseFloat(u.prop("min"))||0,f=isNaN(u.prop("max"))||""===u.prop("max")?1/0:parseFloat(u.prop("max")),m=parseFloat(u.prop("step"))||1,v=parseInt(u.attr("data-step-max"))||0;var r=parseInt(u.attr("data-decimals"))||0,i=!("false"===u.attr("data-digit-grouping"));g===r&&b===i||(g=r,b=i,h=new Intl.NumberFormat(B,{minimumFractionDigits:g,maximumFractionDigits:g,useGrouping:b}))}u[0].setValue=function(t){C(t)},new MutationObserver(function(){k(),C(i,!0)}).observe(u[0],{attributes:!0}),u.after(p),C(i),d.on("paste input change focusout",function(t){var n,e,o,a,r=d[0].value,i="focusout"===t.type;n=r,e=new Intl.NumberFormat(B),o=e.format(1111).replace(/1/g,""),a=e.format(1.1).replace(/1/g,""),C(r=parseFloat(n.replace(new RegExp("\\"+o,"g"),"").replace(new RegExp("\\"+a),".")),i),F(u,t.type)}),W(s[0],function(){N(-m)}),W(l[0],function(){N(m)}),t=document.body,r=function(){T()},t.addEventListener("mouseup",function(t){r(t)}),t.addEventListener("touchend",function(t){r(t)}),t.addEventListener("keyup",function(t){32!==t.keyCode&&13!==t.keyCode||(V=!1,r(t))})}),this}}(jQuery);
